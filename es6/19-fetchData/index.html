<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">

        const getPeopleInSpace=()=>fetch('http://api.open-notify.org/astros.json')
                                   .then(res=>res.json());

        const spaceNames=()=>
              getPeopleInSpace()
              .then(json=>json.people)
              .then(people=>people.map(p=>p.name))
              .then(names=>names.join(', '));

        spaceNames().then(console.log)

        // const spacePeople=()=>{
        //     return new Promise((resolves,rejects)=>{
        //         const api = 'http://api.open-notify.org/astros.json';
        //         const request=new XMLHttpRequest();
        //         request.open('GET',api);
        //         request.onload=()=>{
        //             if (request.status===200) {
        //                 resolves(JSON.parse(request.response));
        //             }
        //             else {
        //                 console.log(request.statusText);
        //                 rejects(Error(request.statusText));
        //             }
        //         };

        //         request.onerror=err=rejects(err);
        //         request.send();

        //     });
        // };

        // spacePeople().then(
        //     spaceData=>console.log(spaceData),
        //     err=>console.error(new Error('Cannot load space people'))
        // );
         
    </script>
    
    <title>Building Promises</title>
</head>
<body>
    
</body>
</html>